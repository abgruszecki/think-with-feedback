To solve the problem of determining how many hours Vasily can keep his candles burning, we need to analyze the process of burning candles and recycling the stubs into new candles. Let's break down the approach step by step.

### Problem Breakdown

1. **Understanding the Input and Output**:
   - We have two integers `a` (the number of initial candles) and `b` (the number of stubs needed to create a new candle).
   - We need to calculate the total number of hours the candles can burn.

2. **Candle Burning Process**:
   - Each candle burns for 1 hour.
   - After burning, each candle leaves behind a stub.
   - For every `b` stubs, Vasily can create 1 new candle.

3. **Simulation of the Process**:
   - Start with `a` candles, which gives `a` hours of burning.
   - After burning, collect the stubs. The number of stubs will be equal to the number of candles burned.
   - While the number of stubs is greater than or equal to `b`, create new candles from the stubs, burn them, and repeat the process.

### Algorithm

1. Initialize `total_hours` with the initial number of candles `a`.
2. Set `current_stubs` to `a`.
3. While `current_stubs` is greater than or equal to `b`:
   - Calculate how many new candles can be created: `new_candles = current_stubs // b`.
   - Add `new_candles` to `total_hours`.
   - Update `current_stubs` to account for the stubs left after creating new candles: `current_stubs = (current_stubs % b) + new_candles`.
4. Print the total hours.

### Complexity Analysis
- The algorithm runs in O(log(a)) time because each iteration reduces the number of stubs significantly (by a factor of `b`), making it efficient even for the upper limits of the input constraints.

### Implementation

Now, let's implement this logic in Python:

```python
def main():
    import sys
    input = sys.stdin.read
    data = input().split()
    
    t = int(data[0])  # number of test cases
    results = []
    
    index = 1
    for _ in range(t):
        a = int(data[index])
        b = int(data[index + 1])
        index += 2
        
        total_hours = a
        current_stubs = a
        
        while current_stubs >= b:
            new_candles = current_stubs // b
            total_hours += new_candles
            current_stubs = (current_stubs % b) + new_candles
        
        results.append(total_hours)
    
    print("\n".join(map(str, results)))

if __name__ == "__main__":
    main()
```

### Explanation of the Code
- We read all input at once for efficiency, especially since there can be up to 10,000 test cases.
- We loop through each test case, calculating the total hours based on the initial number of candles and the recycling process.
- The results for each test case are collected and printed at once to minimize the number of print calls, which is generally more efficient.

This implementation efficiently calculates the total burning hours for Vasily's candles based on the provided constraints and rules.
